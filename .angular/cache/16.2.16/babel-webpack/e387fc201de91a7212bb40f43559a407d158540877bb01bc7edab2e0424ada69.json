{"ast":null,"code":"import Swal from 'sweetalert2';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/user.service\";\nimport * as i2 from \"@angular/material/legacy-snack-bar\";\nimport * as i3 from \"@angular/router\";\nexport let SignupComponent = /*#__PURE__*/(() => {\n  class SignupComponent {\n    constructor(userService, snack, router) {\n      this.userService = userService;\n      this.snack = snack;\n      this.router = router;\n      this.user = {\n        username: '',\n        password: '',\n        firstName: '',\n        lastName: '',\n        email: '',\n        phone: '',\n        userType: ''\n      };\n      this.selectedFile = null;\n      this.photoPreview = null;\n    }\n    ngOnInit() {}\n    onFileSelected(event) {\n      if (event.target.files.length > 0) {\n        this.selectedFile = event.target.files[0];\n        // Preview Image\n        const reader = new FileReader();\n        reader.onload = e => this.photoPreview = reader.result;\n        reader.readAsDataURL(this.selectedFile);\n      }\n    }\n    formSubmit() {\n      if (!this.user.username || !this.user.password) {\n        this.snack.open('Email and Password are required!', '', {\n          duration: 3000\n        });\n        return;\n      }\n      const formData = new FormData();\n      formData.append('username', this.user.username);\n      formData.append('password', this.user.password);\n      formData.append('firstName', this.user.firstName);\n      formData.append('lastName', this.user.lastName);\n      formData.append('email', this.user.email);\n      formData.append('phone', this.user.phone);\n      formData.append('userType', this.user.userType);\n      if (this.selectedFile) {\n        formData.append('photo', this.selectedFile);\n      }\n      this.userService.addUser(formData).subscribe(data => {\n        Swal.fire('Successfully done !!', 'User id is ' + data.id, 'success');\n        this.router.navigate(['/admin']);\n      }, error => {\n        console.log(error);\n        this.snack.open(error.error.text, '', {\n          duration: 3000\n        });\n      });\n    }\n    static {\n      this.ɵfac = function SignupComponent_Factory(t) {\n        return new (t || SignupComponent)(i0.ɵɵdirectiveInject(i1.UserService), i0.ɵɵdirectiveInject(i2.MatLegacySnackBar), i0.ɵɵdirectiveInject(i3.Router));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: SignupComponent,\n        selectors: [[\"app-signup\"]],\n        decls: 47,\n        vars: 6,\n        consts: [[1, \"bootstrap-wrapper\"], [1, \"container\"], [1, \"row\"], [1, \"col-md-6\", \"offset-md-3\"], [1, \"container\", \"text-center\"], [\"src\", \"../../../assets/samproLogo.png\", \"alt\", \"\"], [1, \"text-center\"], [3, \"ngSubmit\"], [\"appearance\", \"outline\", 1, \"full-width\"], [\"required\", \"\", \"name\", \"firstName\", \"matInput\", \"\", \"placeholder\", \"Enter here\", 3, \"ngModel\", \"ngModelChange\"], [\"required\", \"\", \"name\", \"lastName\", \"matInput\", \"\", \"placeholder\", \"Enter here\", 3, \"ngModel\", \"ngModelChange\"], [\"required\", \"\", \"name\", \"phone\", \"type\", \"number\", \"matInput\", \"\", \"placeholder\", \"Enter here\", 3, \"ngModel\", \"ngModelChange\"], [\"required\", \"\", \"name\", \"username\", \"matInput\", \"\", \"placeholder\", \"Enter here\", 3, \"ngModel\", \"ngModelChange\"], [\"required\", \"\", \"name\", \"password\", \"type\", \"password\", \"matInput\", \"\", \"placeholder\", \"Enter here\", 3, \"ngModel\", \"ngModelChange\"], [\"name\", \"userType\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"value\", \"GENERAL\"], [\"value\", \"CRASH_COURSE\"], [\"value\", \"EXTERNAL\"], [\"type\", \"submit\", \"mat-raised-button\", \"\", \"color\", \"primary\"], [\"routerLink\", \"/admin\", \"type\", \"button\", \"mat-raised-button\", \"\", \"color\", \"primary\", 2, \"margin-left\", \"20px\"]],\n        template: function SignupComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"mat-card\")(5, \"div\", 4);\n            i0.ɵɵelement(6, \"img\", 5);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(7, \"h1\", 6)(8, \"b\");\n            i0.ɵɵtext(9, \"Add User\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(10, \"form\", 7);\n            i0.ɵɵlistener(\"ngSubmit\", function SignupComponent_Template_form_ngSubmit_10_listener() {\n              return ctx.formSubmit();\n            });\n            i0.ɵɵelementStart(11, \"mat-form-field\", 8)(12, \"mat-label\");\n            i0.ɵɵtext(13, \"First Name\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(14, \"input\", 9);\n            i0.ɵɵlistener(\"ngModelChange\", function SignupComponent_Template_input_ngModelChange_14_listener($event) {\n              return ctx.user.firstName = $event;\n            });\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(15, \"mat-form-field\", 8)(16, \"mat-label\");\n            i0.ɵɵtext(17, \"Last Name\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(18, \"input\", 10);\n            i0.ɵɵlistener(\"ngModelChange\", function SignupComponent_Template_input_ngModelChange_18_listener($event) {\n              return ctx.user.lastName = $event;\n            });\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(19, \"mat-form-field\", 8)(20, \"mat-label\");\n            i0.ɵɵtext(21, \"Phone Number\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(22, \"input\", 11);\n            i0.ɵɵlistener(\"ngModelChange\", function SignupComponent_Template_input_ngModelChange_22_listener($event) {\n              return ctx.user.phone = $event;\n            });\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(23, \"mat-form-field\", 8)(24, \"mat-label\");\n            i0.ɵɵtext(25, \"Enter Email\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(26, \"input\", 12);\n            i0.ɵɵlistener(\"ngModelChange\", function SignupComponent_Template_input_ngModelChange_26_listener($event) {\n              return ctx.user.username = $event;\n            });\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(27, \"mat-hint\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(28, \"mat-form-field\", 8)(29, \"mat-label\");\n            i0.ɵɵtext(30, \"Password\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(31, \"input\", 13);\n            i0.ɵɵlistener(\"ngModelChange\", function SignupComponent_Template_input_ngModelChange_31_listener($event) {\n              return ctx.user.password = $event;\n            });\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(32, \"mat-form-field\", 8)(33, \"mat-label\");\n            i0.ɵɵtext(34, \"Select User Type\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(35, \"mat-select\", 14);\n            i0.ɵɵlistener(\"ngModelChange\", function SignupComponent_Template_mat_select_ngModelChange_35_listener($event) {\n              return ctx.user.userType = $event;\n            });\n            i0.ɵɵelementStart(36, \"mat-option\", 15);\n            i0.ɵɵtext(37, \"General\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(38, \"mat-option\", 16);\n            i0.ɵɵtext(39, \"Crash Course\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(40, \"mat-option\", 17);\n            i0.ɵɵtext(41, \"External\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(42, \"div\", 4)(43, \"button\", 18);\n            i0.ɵɵtext(44, \" Add User \");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(45, \"button\", 19);\n            i0.ɵɵtext(46, \" Home \");\n            i0.ɵɵelementEnd()()()()()()()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(14);\n            i0.ɵɵproperty(\"ngModel\", ctx.user.firstName);\n            i0.ɵɵadvance(4);\n            i0.ɵɵproperty(\"ngModel\", ctx.user.lastName);\n            i0.ɵɵadvance(4);\n            i0.ɵɵproperty(\"ngModel\", ctx.user.phone);\n            i0.ɵɵadvance(4);\n            i0.ɵɵproperty(\"ngModel\", ctx.user.username);\n            i0.ɵɵadvance(5);\n            i0.ɵɵproperty(\"ngModel\", ctx.user.password);\n            i0.ɵɵadvance(4);\n            i0.ɵɵproperty(\"ngModel\", ctx.user.userType);\n          }\n        },\n        styles: [\".full-width[_ngcontent-%COMP%]{width:100%}\"]\n      });\n    }\n  }\n  return SignupComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}